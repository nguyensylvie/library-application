"use strict";(self.webpackChunkModernize=self.webpackChunkModernize||[]).push([[293],{1293:(no,Y,s)=>{s.r(Y),s.d(Y,{ManagementModule:()=>to});var u=s(9299),d=s(6895),i=s(4006),R=s(6986),O=s(792),$=s(5664),f=s(8739),a=s(671),e=s(4650),B=s(4004);const v_apiUrl="http://localhost:9000/api";var I=s(529);let C=(()=>{class t{constructor(n){this.http=n,this.apiUrl=`${v_apiUrl}/documents`,this.documentTypeTranslations={BOOK:"Livre",DICTIONARY:"Dictionnaire",COMIC:"Bande dessin\xe9e",ARCHIVE:"Archive",NOVEL:"Roman",MAGAZINE:"Magazine",NEWSPAPER:"Journal"}}getAllDocuments(){return this.http.get(this.apiUrl)}getDocumentById(n){return this.http.get(`${this.apiUrl}/${n}`)}isDocumentExists(n){return this.getAllDocuments().pipe((0,B.U)(r=>r.some(m=>m.documentId===n)))}addDocument(n){return this.http.post(this.apiUrl,n)}updateDocument(n){return this.http.put(`${this.apiUrl}/${n.documentId}`,n)}deleteDocument(n){return this.http.delete(`${this.apiUrl}/${n}`)}getAllDocumentTypes(){return this.http.get(`${this.apiUrl}/document-type`)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(I.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c=s(3546),_=s(4859),Z=s(266),q=s(7009);let S=(()=>{class t{constructor(n,r,m){this.documentService=n,this.router=r,this._snackBar=m,this.documentDeleted=new e.vpe}onDeleteDocument(n){this.documentService.deleteDocument(n).subscribe(()=>{this.router.navigate(["/management/documents"]),this.documentDeleted.emit(),this._snackBar.open("Vous avez supprim\xe9 un document","Fermer",{duration:3e3})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C),e.Y36(u.F0),e.Y36(q.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete-document-button"]],inputs:{documentId:"documentId"},outputs:{documentDeleted:"documentDeleted"},decls:2,vars:0,consts:[["mat-raised-button","","color","warn","matTooltip","Supprimer le document",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.onDeleteDocument(r.documentId)}),e._uU(1," Supprimer\n"),e.qZA())},dependencies:[_.lW,Z.gM]}),t})();const H=function(t){return["/management/documents/edit",t]};let J=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-document-button"]],inputs:{documentId:"documentId"},decls:2,vars:3,consts:[["mat-raised-button","","color","primary","matTooltip","Modifier le document",1,"m-r-6",3,"routerLink"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e._uU(1," Modifier\n"),e.qZA()),2&n&&e.Q6J("routerLink",e.VKq(1,H,r.documentId))},dependencies:[u.rH,_.lW,Z.gM]}),t})();function W(t,o){1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",5)(2,"p",6),e._uU(3,"Aucun document trouv\xe9."),e.qZA()(),e.BQk())}function G(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," # "),e.qZA())}function V(t,o){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&t){const n=o.index;e.xp6(1),e.hij(" ",n+1," ")}}function j(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Titre "),e.qZA())}function z(t,o){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",n.title," ")}}function X(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Auteur "),e.qZA())}function K(t,o){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",n.author," ")}}function P(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Date de parution "),e.qZA())}function ee(t,o){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.releaseDate,"yyyy")," ")}}function te(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Type de document "),e.qZA())}function ne(t,o){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&t){const n=o.$implicit,r=e.oxw(2);e.xp6(1),e.hij(" ",r.documentTypeTranslations[n.documentType]," ")}}function oe(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Actions "),e.qZA())}const re=function(t){return["/management/documents",t]};function me(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"td",21)(1,"div")(2,"a",22),e._uU(3," Voir "),e.qZA(),e._UZ(4,"app-edit-document-button",23),e.TgZ(5,"app-delete-document-button",24),e.NdJ("documentDeleted",function(){e.CHM(n);const m=e.oxw(2);return e.KtG(m.loadDocumentList())}),e.qZA()()()}if(2&t){const n=o.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(3,re,n.documentId)),e.xp6(2),e.Q6J("documentId",n.documentId),e.xp6(1),e.Q6J("documentId",n.documentId)}}function ae(t,o){1&t&&e._UZ(0,"tr",25)}function ie(t,o){1&t&&e._UZ(0,"tr",26)}const ce=function(){return[20,50,100]};function ue(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",5)(2,"div",7)(3,"table",8),e.ynx(4,9),e.YNc(5,G,2,0,"th",10),e.YNc(6,V,2,1,"td",11),e.BQk(),e.ynx(7,12),e.YNc(8,j,2,0,"th",10),e.YNc(9,z,2,1,"td",11),e.BQk(),e.ynx(10,13),e.YNc(11,X,2,0,"th",10),e.YNc(12,K,2,1,"td",11),e.BQk(),e.ynx(13,14),e.YNc(14,P,2,0,"th",10),e.YNc(15,ee,3,4,"td",11),e.BQk(),e.ynx(16,15),e.YNc(17,te,2,0,"th",10),e.YNc(18,ne,2,1,"td",11),e.BQk(),e.ynx(19,16),e.YNc(20,oe,2,0,"th",10),e.YNc(21,me,6,5,"td",11),e.BQk(),e.YNc(22,ae,1,0,"tr",17),e.YNc(23,ie,1,0,"tr",18),e.qZA(),e._UZ(24,"mat-paginator",19),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,ce))}}const se=function(){return["/management/documents/add"]};let le=(()=>{class t{constructor(n){this.documentService=n,this.documents=[],this.dataSource=new a.by,this.displayedColumns=["position","title","author","releaseDate","documentType","actions"]}ngOnInit(){this.loadDocumentList()}loadDocumentList(){this.documentService.getAllDocuments().subscribe({next:n=>{this.documents=n,this.dataSource.data=this.documents,this.dataSource.paginator=this.paginator,this.documentTypeTranslations=this.documentService.documentTypeTranslations},error:n=>console.error(n)})}ngAfterViewInit(){this.loadDocumentList()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-documents"]],viewQuery:function(n,r){if(1&n&&e.Gf(f.NW,5),2&n){let m;e.iGM(m=e.CRH())&&(r.paginator=m.first)}},decls:9,vars:4,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","accent","matTooltip","Ajouter un document",3,"routerLink"],[4,"ngIf"],[1,"b-t-1"],[1,"text-center"],[1,"table-responsive","m-t-16"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","author"],["matColumnDef","releaseDate"],["matColumnDef","documentType"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","S\xe9lectionner la page des documents",3,"pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-raised-button","","matTooltip","Voir le document",1,"m-r-6",3,"routerLink"],[3,"documentId"],[3,"documentId","documentDeleted"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3,"Documents"),e.qZA(),e._UZ(4,"span",2),e.TgZ(5,"button",3),e._uU(6," Ajouter "),e.qZA()(),e.YNc(7,W,4,0,"ng-container",4),e.YNc(8,ue,25,5,"ng-container",4),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(3,se)),e.xp6(2),e.Q6J("ngIf",0===r.dataSource.data.length),e.xp6(1),e.Q6J("ngIf",r.dataSource.data.length>0))},dependencies:[d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,_.zs,_.lW,Z.gM,f.NW,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,S,J,d.uU]}),t})(),w=(()=>{class t{constructor(n){this.http=n,this.apiUrl=`${v_apiUrl}/borrows`}getAllBorrows(){return this.http.get(this.apiUrl)}getBorrowById(n){return this.http.get(`${this.apiUrl}/${n}`)}isBorrowExists(n){return this.getAllBorrows().pipe((0,B.U)(r=>r.some(m=>m.borrowId===n)))}borrowDocument(n,r){return this.http.post(`${this.apiUrl}/${n}/${r}`,{})}returnDocument(n){return this.http.post(`${this.apiUrl}/return/${n}`,{})}getBorrowedDocuments(){return this.http.get(`${this.apiUrl}/borrowed`)}getReturnedBorrows(){return this.http.get(`${this.apiUrl}/returned`)}getBorrowerByDocumentId(n){return this.http.get(`${this.apiUrl}/document/${n}/borrower`)}getBorrowIdByDocumentId(n){return this.http.get(`${this.apiUrl}/document/${n}`)}getBorrowedDocumentsByMemberId(n){return this.http.get(`${this.apiUrl}/member/${n}/borrowed`)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(I.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),k=(()=>{class t{constructor(n){this.location=n}goBack(){this.location.back()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(d.Ye))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=s(6338),de=s(7331);function pe(t,o){1&t&&(e.TgZ(0,"span",15),e._uU(1," Disponible "),e.qZA())}function _e(t,o){1&t&&(e.TgZ(0,"span",16),e._uU(1," Emprunt\xe9 "),e.qZA())}const ge=function(t){return["/management/members",t]};function fe(t,o){if(1&t&&(e.TgZ(0,"div",7)(1,"mat-list-item")(2,"span",8),e._uU(3,"Est emprunt\xe9 par"),e.qZA(),e.TgZ(4,"span",10),e.ynx(5),e.TgZ(6,"mat-chip",17),e._uU(7),e.qZA(),e.BQk(),e.qZA()()()),2&t){const n=e.oxw(2);e.xp6(6),e.Q6J("routerLink",e.VKq(2,ge,null==n.borrowerMember?null:n.borrowerMember.memberId)),e.xp6(1),e.hij(" ",(null==n.borrowerMember?null:n.borrowerMember.firstName)+" "+(null==n.borrowerMember?null:n.borrowerMember.lastName)," ")}}function be(t,o){if(1&t&&(e.TgZ(0,"div",7)(1,"mat-list-item")(2,"span",8),e._uU(3,"Date de l'emprunt"),e.qZA(),e.TgZ(4,"span",9),e._uU(5),e.ALo(6,"date"),e.qZA()()()),2&t){const n=e.oxw(2);e.xp6(5),e.Oqu(e.xi3(6,1,n.borrow.loanDate,"dd/MM/yyyy"))}}function he(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),e._uU(3,"Document"),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"div")(6,"button",4),e.NdJ("click",function(){e.CHM(n);const m=e.oxw();return e.KtG(m.goBack())}),e._uU(7," Retour "),e.qZA()()(),e.TgZ(8,"mat-card-content",5)(9,"mat-list")(10,"div",6)(11,"div",7)(12,"mat-list-item")(13,"span",8),e._uU(14,"Titre"),e.qZA(),e.TgZ(15,"span",9),e._uU(16),e.qZA()()(),e.TgZ(17,"div",7)(18,"mat-list-item")(19,"span",8),e._uU(20,"Auteur"),e.qZA(),e.TgZ(21,"span",9),e._uU(22),e.qZA()()(),e.TgZ(23,"div",7)(24,"mat-list-item")(25,"span",8),e._uU(26,"Date de parution"),e.qZA(),e.TgZ(27,"span",9),e._uU(28),e.ALo(29,"date"),e.qZA()()(),e.TgZ(30,"div",7)(31,"mat-list-item")(32,"span",8),e._uU(33,"Type de document"),e.qZA(),e.TgZ(34,"span",9),e._uU(35),e.qZA()()(),e.TgZ(36,"div",7)(37,"mat-list-item")(38,"span",8),e._uU(39,"Date de l'enregistrement"),e.qZA(),e.TgZ(40,"span",9),e._uU(41),e.ALo(42,"date"),e.qZA()()(),e.TgZ(43,"div",7)(44,"mat-list-item")(45,"span",8),e._uU(46,"Statut"),e.qZA(),e.TgZ(47,"span",10),e.YNc(48,pe,2,0,"ng-template",11),e.YNc(49,_e,2,0,"ng-template",11),e.qZA()()(),e.YNc(50,fe,8,4,"div",12),e.YNc(51,be,7,4,"div",12),e.qZA(),e.TgZ(52,"div",13)(53,"mat-list-item"),e._UZ(54,"app-edit-document-button",14)(55,"app-delete-document-button",14),e.qZA()()()()()}if(2&t){const n=e.oxw();e.xp6(16),e.Oqu(n.document.title),e.xp6(6),e.Oqu(n.document.author),e.xp6(6),e.Oqu(e.xi3(29,11,n.document.releaseDate,"yyyy")),e.xp6(7),e.Oqu(n.documentTypeTranslations[n.document.documentType]),e.xp6(6),e.Oqu(e.xi3(42,14,n.document.registrationDate,"dd/MM/yyyy")),e.xp6(7),e.Q6J("ngIf",n.document.available),e.xp6(1),e.Q6J("ngIf",!n.document.available),e.xp6(1),e.Q6J("ngIf",n.borrow),e.xp6(1),e.Q6J("ngIf",n.borrow),e.xp6(3),e.Q6J("documentId",n.document.documentId),e.xp6(1),e.Q6J("documentId",n.document.documentId)}}let Ze=(()=>{class t{constructor(n,r,m,l,g){this.documentService=n,this.borrowService=r,this.redirectService=m,this.router=l,this.route=g}ngOnInit(){const n=Number(this.route.snapshot.params.id);this.documentService.isDocumentExists(n).subscribe(r=>{r?this.documentService.getDocumentById(n).subscribe({next:m=>{this.document=m,this.documentTypeTranslations=this.documentService.documentTypeTranslations},error:m=>console.error(m)}):this.router.navigate(["/management/documents"])}),this.borrowService.getBorrowIdByDocumentId(n).subscribe({next:r=>{this.borrowService.getBorrowById(r).subscribe({next:m=>{this.borrow=m,this.borrowerMember=m.member},error:m=>console.error(m)})},error:r=>console.error(r)})}goBack(){this.redirectService.goBack()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C),e.Y36(w),e.Y36(k),e.Y36(u.F0),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-details-document"]],decls:1,vars:1,consts:[["class","cardWithShadow theme-card",4,"ngIf"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","warn",1,"m-r-6",3,"click"],[1,"b-t-1"],[1,"row"],[1,"col-md-6"],["matListItemTitle","",1,"f-s-16","f-w-600"],["matListItemLine","",1,"mat-body-1"],["matListItemLine","",1,"mat-body-1","m-t-4"],[3,"ngIf"],["class","col-md-6",4,"ngIf"],[1,"m-t-15"],[3,"documentId"],[1,"bg-light-accent","text-success","rounded","f-w-600","p-6","p-y-4"],[1,"bg-light-primary","text-error","rounded","f-w-600","p-6","p-y-4"],[1,"bg-light-accent",3,"routerLink"]],template:function(n,r){1&n&&e.YNc(0,he,56,17,"mat-card",0),2&n&&e.Q6J("ngIf",r.document)},dependencies:[d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,T.i$,T.Tg,T.WW,T.sL,_.lW,de.HS,S,J,d.uU]}),t})();var N=s(3238),D=s(9602),p=s(9549),y=s(4144),M=s(4385);function Te(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le titre est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function we(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," L'auteur est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function Ce(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," La date de parution est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA()())}function De(t,o){if(1&t&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&t){const n=o.$implicit,r=e.oxw();e.Q6J("value",n),e.xp6(1),e.hij(" ",r.documentTypeTranslations[n]," ")}}function xe(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Le type de document est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}const Ae=function(){return["/management/documents"]};let qe=(()=>{class t{constructor(n,r,m){this.documentService=n,this.router=r,this.formBuilder=m,this.documentTypeTranslations={BOOK:"Livre",DICTIONARY:"Dictionnaire",COMIC:"Bande dessin\xe9e",ARCHIVE:"Archive",NOVEL:"Roman",MAGAZINE:"Magazine",NEWSPAPER:"Journal"},this.newDocument={documentId:0,title:"",author:"",releaseDate:new Date,available:!0,registrationDate:new Date,documentType:""},this.documentForm=this.formBuilder.group({title:["",i.kI.required],author:["",i.kI.required],releaseDate:["",i.kI.required],documentType:["",i.kI.required]})}ngOnInit(){this.loadDocumentsTypes()}loadDocumentsTypes(){this.documentService.getAllDocumentTypes().subscribe({next:n=>{this.documentTypes=n},error:n=>console.error(n)})}onAddDocument(){this.documentForm.valid&&(this.newDocument={...this.documentForm.value,releaseDate:this.documentForm.value.releaseDate.getFullYear()},this.documentService.addDocument(this.newDocument).subscribe({next:()=>this.router.navigate(["/management/documents"]),error:n=>console.error(n)}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C),e.Y36(u.F0),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-document-form"]],decls:44,vars:11,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"m-t-16",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-8"],[1,"col-md-6","m-b-6"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","title","placeholder","Titre","name","title","required",""],[4,"ngIf"],["matInput","","formControlName","author","placeholder","Auteur","name","author","required",""],["matInput","","formControlName","releaseDate","placeholder","Date de parution",3,"matDatepicker"],["matIconSuffix","",3,"for"],["startView","year"],["picker",""],["formControlName","documentType","name","documentType","placeholder","S\xe9lectionner le type de document"],[3,"value",4,"ngFor","ngForOf"],[1,"m-y-15"],["mat-raised-button","","color","primary","type","submit",1,"m-r-6",3,"disabled"],["mat-raised-button","","color","warn",3,"routerLink"],[3,"value"]],template:function(n,r){if(1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3,"Ajouter un nouveau document"),e.qZA()(),e.TgZ(4,"mat-card-content",2)(5,"form",3),e.NdJ("ngSubmit",function(){return r.onAddDocument()}),e.TgZ(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6)(10,"mat-label",7),e._uU(11,"Titre"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.YNc(14,Te,4,0,"mat-error",10),e.qZA()(),e.TgZ(15,"div",6)(16,"mat-label",7),e._uU(17,"Auteur"),e.qZA(),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",11),e.YNc(20,we,4,0,"mat-error",10),e.qZA()(),e.TgZ(21,"div",6)(22,"mat-label",7),e._uU(23,"Date de parution"),e.qZA(),e.TgZ(24,"mat-form-field",8),e._UZ(25,"input",12),e.TgZ(26,"mat-hint"),e._uU(27,"Seule l'ann\xe9e sera prise en compte."),e.qZA(),e._UZ(28,"mat-datepicker-toggle",13)(29,"mat-datepicker",14,15),e.YNc(31,Ce,4,0,"mat-error",10),e.qZA()(),e.TgZ(32,"div",6)(33,"mat-label",7),e._uU(34,"Type de document"),e.qZA(),e.TgZ(35,"mat-form-field",8)(36,"mat-select",16),e.YNc(37,De,2,2,"mat-option",17),e.qZA(),e.YNc(38,xe,4,0,"mat-error",10),e.qZA()()(),e.TgZ(39,"div",18)(40,"button",19),e._uU(41," Ajouter "),e.qZA(),e.TgZ(42,"button",20),e._uU(43," Annuler "),e.qZA()()()()()()()),2&n){const m=e.MAs(30);let l,g,b,h;e.xp6(5),e.Q6J("formGroup",r.documentForm),e.xp6(9),e.Q6J("ngIf",null==(l=r.documentForm.get("title"))?null:l.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(g=r.documentForm.get("author"))?null:g.hasError("required")),e.xp6(5),e.Q6J("matDatepicker",m),e.xp6(3),e.Q6J("for",m),e.xp6(3),e.Q6J("ngIf",null==(b=r.documentForm.get("releaseDate"))?null:b.hasError("required")),e.xp6(6),e.Q6J("ngForOf",r.documentTypes),e.xp6(1),e.Q6J("ngIf",null==(h=r.documentForm.get("documentType"))?null:h.hasError("required")),e.xp6(2),e.Q6J("disabled",!r.documentForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(10,Ae))}},dependencies:[d.sg,d.O5,u.rH,N.ey,D.Mq,D.hl,D.nW,p.KE,p.hX,p.bx,p.TO,p.R9,y.Nt,M.gD,c.a8,c.dn,c.dk,c.n5,_.lW,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u]}),t})();function ye(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le titre est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function Ue(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," L'auteur est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function Be(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," La date de parution est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA()())}function ve(t,o){if(1&t&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&t){const n=o.$implicit,r=e.oxw();e.Q6J("value",n),e.xp6(1),e.hij(" ",r.documentTypeTranslations[n]," ")}}function Ie(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Le type de document est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}const Ne=function(){return["/management/documents"]};let Me=(()=>{class t{constructor(n,r,m,l){this.documentService=n,this.router=r,this.route=m,this.formBuilder=l,this.documentTypeTranslations={BOOK:"Livre",DICTIONARY:"Dictionnaire",COMIC:"Bande dessin\xe9e",ARCHIVE:"Archive",NOVEL:"Roman",MAGAZINE:"Magazine",NEWSPAPER:"Journal"},this.documentForm=this.formBuilder.group({title:["",i.kI.required],author:["",i.kI.required],releaseDate:["",i.kI.required],documentType:["",i.kI.required]})}ngOnInit(){const n=Number(this.route.snapshot.params.id);this.documentService.isDocumentExists(n).subscribe(r=>{r?this.documentService.getDocumentById(n).subscribe(m=>{this.document=m,this.document&&this.documentForm.patchValue({title:this.document.title,author:this.document.author,releaseDate:new Date(this.document.releaseDate),documentType:this.document.documentType})}):this.router.navigate(["/management/documents"])}),this.loadDocumentsTypes()}loadDocumentsTypes(){this.documentService.getAllDocumentTypes().subscribe({next:n=>{this.documentTypes=n},error:n=>console.error(n)})}onEditDocument(){this.documentForm.valid&&this.document&&(this.updateDocument={...this.document,...this.documentForm.value,releaseDate:this.documentForm.value.releaseDate.getFullYear()},this.documentService.updateDocument(this.updateDocument).subscribe(()=>{this.router.navigate(["/management/documents"])}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C),e.Y36(u.F0),e.Y36(u.gz),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-document-edit"]],decls:44,vars:11,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"m-t-16",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-8"],[1,"col-md-6","m-b-6"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","title","placeholder","Titre","name","title","required",""],[4,"ngIf"],["matInput","","formControlName","author","placeholder","Auteur","name","author","required",""],["matInput","","formControlName","releaseDate","placeholder","Date de parution",3,"matDatepicker"],["matIconSuffix","",3,"for"],["startView","year"],["picker",""],["formControlName","documentType","name","documentType","placeholder","S\xe9lectionner le type de document"],[3,"value",4,"ngFor","ngForOf"],[1,"m-y-15"],["mat-raised-button","","color","primary","type","submit",1,"m-r-6",3,"disabled"],["mat-raised-button","","color","warn",3,"routerLink"],[3,"value"]],template:function(n,r){if(1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3,"Modifier le document"),e.qZA()(),e.TgZ(4,"mat-card-content",2)(5,"form",3),e.NdJ("ngSubmit",function(){return r.onEditDocument()}),e.TgZ(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6)(10,"mat-label",7),e._uU(11,"Titre"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.YNc(14,ye,4,0,"mat-error",10),e.qZA()(),e.TgZ(15,"div",6)(16,"mat-label",7),e._uU(17,"Auteur"),e.qZA(),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",11),e.YNc(20,Ue,4,0,"mat-error",10),e.qZA()(),e.TgZ(21,"div",6)(22,"mat-label",7),e._uU(23,"Date de parution"),e.qZA(),e.TgZ(24,"mat-form-field",8),e._UZ(25,"input",12),e.TgZ(26,"mat-hint"),e._uU(27,"Seule l'ann\xe9e sera prise en compte."),e.qZA(),e._UZ(28,"mat-datepicker-toggle",13)(29,"mat-datepicker",14,15),e.YNc(31,Be,4,0,"mat-error",10),e.qZA()(),e.TgZ(32,"div",6)(33,"mat-label",7),e._uU(34,"Type de document"),e.qZA(),e.TgZ(35,"mat-form-field",8)(36,"mat-select",16),e.YNc(37,ve,2,2,"mat-option",17),e.qZA(),e.YNc(38,Ie,4,0,"mat-error",10),e.qZA()()(),e.TgZ(39,"div",18)(40,"button",19),e._uU(41," Modifier "),e.qZA(),e.TgZ(42,"button",20),e._uU(43," Annuler "),e.qZA()()()()()()()),2&n){const m=e.MAs(30);let l,g,b,h;e.xp6(5),e.Q6J("formGroup",r.documentForm),e.xp6(9),e.Q6J("ngIf",null==(l=r.documentForm.get("title"))?null:l.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(g=r.documentForm.get("author"))?null:g.hasError("required")),e.xp6(5),e.Q6J("matDatepicker",m),e.xp6(3),e.Q6J("for",m),e.xp6(3),e.Q6J("ngIf",null==(b=r.documentForm.get("releaseDate"))?null:b.hasError("required")),e.xp6(6),e.Q6J("ngForOf",r.documentTypes),e.xp6(1),e.Q6J("ngIf",null==(h=r.documentForm.get("documentType"))?null:h.hasError("required")),e.xp6(2),e.Q6J("disabled",!r.documentForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(10,Ne))}},dependencies:[d.sg,d.O5,u.rH,N.ey,D.Mq,D.hl,D.nW,p.KE,p.hX,p.bx,p.TO,p.R9,y.Nt,M.gD,c.a8,c.dn,c.dk,c.n5,_.lW,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u]}),t})(),x=(()=>{class t{constructor(n){this.http=n,this.apiUrl=`${v_apiUrl}/members`}getAllMembers(){return this.http.get(this.apiUrl)}getMemberById(n){return this.http.get(`${this.apiUrl}/${n}`)}isMemberExists(n){return this.getAllMembers().pipe((0,B.U)(r=>r.some(m=>m.memberId===n)))}addMember(n){return this.http.post(this.apiUrl,n)}updateMember(n){return this.http.put(`${this.apiUrl}/${n.memberId}`,n)}deleteMember(n){return this.http.delete(`${this.apiUrl}/${n}`)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(I.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Qe=s(6308);let L=(()=>{class t{constructor(n,r,m){this.memberService=n,this.router=r,this._snackBar=m,this.memberDeleted=new e.vpe}onDeleteMember(n){this.memberService.deleteMember(n).subscribe(()=>{this.router.navigate(["/management/members"]),this.memberDeleted.emit(),this._snackBar.open("Vous avez supprim\xe9 un membre","Fermer",{duration:3e3})})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x),e.Y36(u.F0),e.Y36(q.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete-member-button"]],inputs:{memberId:"memberId"},outputs:{memberDeleted:"memberDeleted"},decls:2,vars:0,consts:[["mat-raised-button","","color","warn","matTooltip","Supprimer le membre",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.onDeleteMember(r.memberId)}),e._uU(1," Supprimer\n"),e.qZA())},dependencies:[_.lW,Z.gM]}),t})();const Ye=function(t){return["/management/members/edit",t]};let E=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-member-button"]],inputs:{memberId:"memberId"},decls:2,vars:3,consts:[["mat-raised-button","","color","primary","matTooltip","Modifier le membre",1,"m-r-6",3,"routerLink"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e._uU(1," Modifier\n"),e.qZA()),2&n&&e.Q6J("routerLink",e.VKq(1,Ye,r.memberId))},dependencies:[u.rH,_.lW,Z.gM]}),t})();function Se(t,o){1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",5)(2,"p",6),e._uU(3,"Aucun membre trouv\xe9."),e.qZA()(),e.BQk())}function Je(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1," # "),e.qZA())}function ke(t,o){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const n=o.index;e.xp6(1),e.hij(" ",n+1," ")}}function Le(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1," Nom "),e.qZA())}function Ee(t,o){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.AsE(" ",n.firstName," ",n.lastName," ")}}function Fe(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1," Adresse "),e.qZA())}function Re(t,o){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.lnq(" ",n.address,", ",n.postalCode," ",n.city," ")}}function Oe(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1," Actions "),e.qZA())}const $e=function(t){return["/management/members",t]};function He(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"td",19)(1,"div")(2,"a",20),e._uU(3," Voir "),e.qZA(),e._UZ(4,"app-edit-member-button",21),e.TgZ(5,"app-delete-member-button",22),e.NdJ("memberDeleted",function(){e.CHM(n);const m=e.oxw(2);return e.KtG(m.loadMemberList())}),e.qZA()()()}if(2&t){const n=o.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(3,$e,n.memberId)),e.xp6(2),e.Q6J("memberId",n.memberId),e.xp6(1),e.Q6J("memberId",n.memberId)}}function We(t,o){1&t&&e._UZ(0,"tr",23)}function Ge(t,o){1&t&&e._UZ(0,"tr",24)}const Ve=function(){return[20,50,100]};function je(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",5)(2,"div",7)(3,"table",8),e.ynx(4,9),e.YNc(5,Je,2,0,"th",10),e.YNc(6,ke,2,1,"td",11),e.BQk(),e.ynx(7,12),e.YNc(8,Le,2,0,"th",10),e.YNc(9,Ee,2,2,"td",11),e.BQk(),e.ynx(10,13),e.YNc(11,Fe,2,0,"th",10),e.YNc(12,Re,2,3,"td",11),e.BQk(),e.ynx(13,14),e.YNc(14,Oe,2,0,"th",10),e.YNc(15,He,6,5,"td",11),e.BQk(),e.YNc(16,We,1,0,"tr",15),e.YNc(17,Ge,1,0,"tr",16),e.qZA(),e._UZ(18,"mat-paginator",17),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Ve))}}const ze=function(){return["/management/members/add"]};let Xe=(()=>{class t{constructor(n){this.memberService=n,this.members=[],this.dataSource=new a.by,this.displayedColumns=["position","name","address","actions"]}ngOnInit(){this.loadMemberList()}loadMemberList(){this.memberService.getAllMembers().subscribe({next:n=>{this.members=n,this.dataSource.data=this.members,this.dataSource.paginator=this.paginator},error:n=>console.error(n)})}ngAfterViewInit(){this.loadMemberList()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-members"]],viewQuery:function(n,r){if(1&n&&e.Gf(f.NW,5),2&n){let m;e.iGM(m=e.CRH())&&(r.paginator=m.first)}},decls:9,vars:4,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","accent","matTooltip","Ajouter un membre",3,"routerLink"],[4,"ngIf"],[1,"b-t-1"],[1,"text-center"],[1,"table-responsive","m-t-16"],["mat-table","","matSort","",1,"w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","address"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","S\xe9lectionner la page des membres",3,"pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-raised-button","","matTooltip","Voir le membre",1,"m-r-6",3,"routerLink"],[3,"memberId"],[3,"memberId","memberDeleted"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3,"Membres"),e.qZA(),e._UZ(4,"span",2),e.TgZ(5,"button",3),e._uU(6," Ajouter "),e.qZA()(),e.YNc(7,Se,4,0,"ng-container",4),e.YNc(8,je,19,5,"ng-container",4),e.qZA()),2&n&&(e.xp6(5),e.Q6J("routerLink",e.DdM(3,ze)),e.xp6(2),e.Q6J("ngIf",0===r.dataSource.data.length),e.xp6(1),e.Q6J("ngIf",r.dataSource.data.length>0))},dependencies:[d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,_.zs,_.lW,Z.gM,f.NW,Qe.YE,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,L,E]}),t})();function Ke(t,o){1&t&&(e.TgZ(0,"span",9),e._uU(1," Aucun document emprunt\xe9 "),e.qZA())}const Pe=function(t){return["/management/documents",t]};function et(t,o){if(1&t&&(e.TgZ(0,"a",15),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("routerLink",e.VKq(4,Pe,n.documentId)),e.xp6(1),e.lnq("",n.title," - ",n.author," (",n.releaseDate,")")}}function tt(t,o){if(1&t&&e.YNc(0,et,2,6,"a",14),2&t){const n=e.oxw(2);e.Q6J("ngForOf",n.documentsBorrowed)}}function nt(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title",2),e._uU(3,"Membre"),e.qZA(),e._UZ(4,"span",3),e.TgZ(5,"div")(6,"button",4),e.NdJ("click",function(){e.CHM(n);const m=e.oxw();return e.KtG(m.goBack())}),e._uU(7,"Retour"),e.qZA()()(),e.TgZ(8,"mat-card-content",5)(9,"mat-list")(10,"div",6)(11,"div",7)(12,"mat-list-item")(13,"span",8),e._uU(14,"Nom"),e.qZA(),e.TgZ(15,"span",9),e._uU(16),e.qZA()()(),e.TgZ(17,"div",7)(18,"mat-list-item")(19,"span",8),e._uU(20,"Pr\xe9nom"),e.qZA(),e.TgZ(21,"span",9),e._uU(22),e.qZA()()(),e.TgZ(23,"div",7)(24,"mat-list-item")(25,"span",8),e._uU(26,"Adresse"),e.qZA(),e.TgZ(27,"span",9),e._uU(28),e.qZA()()(),e.TgZ(29,"div",7)(30,"mat-list-item")(31,"span",8),e._uU(32,"Code Postal"),e.qZA(),e.TgZ(33,"span",9),e._uU(34),e.qZA()()(),e.TgZ(35,"div",7)(36,"mat-list-item")(37,"span",8),e._uU(38,"Ville"),e.qZA(),e.TgZ(39,"span",9),e._uU(40),e.qZA()()(),e.TgZ(41,"div",7)(42,"mat-list-item")(43,"span",8),e._uU(44,"Date de cr\xe9ation"),e.qZA(),e.TgZ(45,"span",9),e._uU(46),e.ALo(47,"date"),e.qZA()()(),e.TgZ(48,"div",7)(49,"mat-list-item")(50,"span",8),e._uU(51,"Document(s) emprunt\xe9(s)"),e.qZA(),e.YNc(52,Ke,2,0,"span",10),e.YNc(53,tt,1,1,"ng-template",null,11,e.W1O),e.qZA()()(),e.TgZ(55,"div",12)(56,"mat-list-item"),e._UZ(57,"app-edit-member-button",13)(58,"app-delete-member-button",13),e.qZA()()()()()}if(2&t){const n=e.MAs(54),r=e.oxw();e.xp6(16),e.Oqu(r.member.firstName),e.xp6(6),e.Oqu(r.member.lastName),e.xp6(6),e.Oqu(r.member.address),e.xp6(6),e.Oqu(r.member.postalCode),e.xp6(6),e.Oqu(r.member.city),e.xp6(6),e.Oqu(e.xi3(47,10,r.member.registrationDate,"dd/MM/yyyy")),e.xp6(6),e.Q6J("ngIf",0===r.documentsBorrowed.length)("ngIfElse",n),e.xp6(5),e.Q6J("memberId",r.member.memberId),e.xp6(1),e.Q6J("memberId",r.member.memberId)}}let ot=(()=>{class t{constructor(n,r,m,l,g){this.memberService=n,this.borrowService=r,this.redirectService=m,this.router=l,this.route=g}ngOnInit(){const n=Number(this.route.snapshot.params.id);this.memberService.isMemberExists(n).subscribe(r=>{r?this.memberService.getMemberById(n).subscribe({next:m=>this.member=m,error:m=>console.error(m)}):this.router.navigate(["/management/members"])}),this.borrowService.getBorrowedDocumentsByMemberId(n).subscribe({next:r=>{this.documentsBorrowed=r},error:r=>console.error(r)})}goBack(){this.redirectService.goBack()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x),e.Y36(w),e.Y36(k),e.Y36(u.F0),e.Y36(u.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-details-member"]],decls:1,vars:1,consts:[["class","cardWithShadow theme-card",4,"ngIf"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"flex-1-auto"],["mat-flat-button","","color","warn",3,"click"],[1,"b-t-1"],[1,"row"],[1,"col-md-6"],["matListItemTitle","",1,"f-s-16","f-w-600"],["matListItemLine","",1,"mat-body-1"],["matListItemLine","","class","mat-body-1",4,"ngIf","ngIfElse"],["documentsBorrowedList",""],[1,"m-t-15"],[3,"memberId"],["matListItemLine","","class","mat-body-1",3,"routerLink",4,"ngFor","ngForOf"],["matListItemLine","",1,"mat-body-1",3,"routerLink"]],template:function(n,r){1&n&&e.YNc(0,nt,59,13,"mat-card",0),2&n&&e.Q6J("ngIf",r.member)},dependencies:[d.sg,d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,T.i$,T.Tg,T.WW,T.sL,_.lW,L,E,d.uU]}),t})();function rt(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le nom est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function mt(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le pr\xe9nom est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function at(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," L'adresse est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA()())}function it(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le code postal est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function ct(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," La ville est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA()())}const ut=function(){return["/management/members"]};let st=(()=>{class t{constructor(n,r,m){this.memberService=n,this.router=r,this.formBuilder=m,this.newMember={memberId:0,firstName:"",lastName:"",address:"",postalCode:"",city:"",registrationDate:new Date},this.memberForm=this.formBuilder.group({lastName:["",i.kI.required],firstName:["",i.kI.required],address:["",i.kI.required],postalCode:["",i.kI.required],city:["",i.kI.required]})}onAddMember(){this.memberForm.valid&&(this.newMember={...this.memberForm.value},this.memberService.addMember(this.newMember).subscribe({next:()=>this.router.navigate(["/management/members"]),error:n=>console.error(n)}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x),e.Y36(u.F0),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-member-form"]],decls:44,vars:9,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"m-t-16",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-8"],[1,"col-md-6","m-b-6"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","lastName","placeholder","Nom","name","lastName","required",""],[4,"ngIf"],["matInput","","formControlName","firstName","placeholder","Pr\xe9nom","name","firstName","required",""],["matInput","","formControlName","address","placeholder","Adresse","name","address","required",""],["matInput","","formControlName","postalCode","placeholder","Code Postal","name","postalCode","required",""],["matInput","","formControlName","city","placeholder","Ville","name","city","required",""],[1,"m-y-15"],["mat-raised-button","","color","primary","type","submit",1,"m-r-6",3,"disabled"],["mat-raised-button","","color","warn",3,"routerLink"]],template:function(n,r){if(1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3,"Ajouter un nouveau membre"),e.qZA()(),e.TgZ(4,"mat-card-content",2)(5,"form",3),e.NdJ("ngSubmit",function(){return r.onAddMember()}),e.TgZ(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6)(10,"mat-label",7),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.YNc(14,rt,4,0,"mat-error",10),e.qZA()(),e.TgZ(15,"div",6)(16,"mat-label",7),e._uU(17,"Pr\xe9nom"),e.qZA(),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",11),e.YNc(20,mt,4,0,"mat-error",10),e.qZA()(),e.TgZ(21,"div",6)(22,"mat-label",7),e._uU(23,"Adresse"),e.qZA(),e.TgZ(24,"mat-form-field",8),e._UZ(25,"input",12),e.YNc(26,at,4,0,"mat-error",10),e.qZA()(),e.TgZ(27,"div",6)(28,"mat-label",7),e._uU(29,"Code Postal"),e.qZA(),e.TgZ(30,"mat-form-field",8),e._UZ(31,"input",13),e.YNc(32,it,4,0,"mat-error",10),e.qZA()(),e.TgZ(33,"div",6)(34,"mat-label",7),e._uU(35,"Ville"),e.qZA(),e.TgZ(36,"mat-form-field",8),e._UZ(37,"input",14),e.YNc(38,ct,4,0,"mat-error",10),e.qZA()()(),e.TgZ(39,"div",15)(40,"button",16),e._uU(41," Ajouter "),e.qZA(),e.TgZ(42,"button",17),e._uU(43," Annuler "),e.qZA()()()()()()()),2&n){let m,l,g,b,h;e.xp6(5),e.Q6J("formGroup",r.memberForm),e.xp6(9),e.Q6J("ngIf",null==(m=r.memberForm.get("lastName"))?null:m.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(l=r.memberForm.get("firstName"))?null:l.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(g=r.memberForm.get("address"))?null:g.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(b=r.memberForm.get("postalCode"))?null:b.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(h=r.memberForm.get("city"))?null:h.hasError("required")),e.xp6(2),e.Q6J("disabled",!r.memberForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(8,ut))}},dependencies:[d.O5,u.rH,p.KE,p.hX,p.TO,y.Nt,c.a8,c.dn,c.dk,c.n5,_.lW,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u]}),t})();function lt(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le nom est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function dt(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le pr\xe9nom est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function pt(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," L'adresse est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA()())}function _t(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Le code postal est "),e.TgZ(2,"strong"),e._uU(3,"requis"),e.qZA()())}function gt(t,o){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," La ville est "),e.TgZ(2,"strong"),e._uU(3,"requise"),e.qZA()())}const ft=function(){return["/management/members"]};let bt=(()=>{class t{constructor(n,r,m,l){this.memberService=n,this.router=r,this.route=m,this.formBuilder=l,this.memberForm=this.formBuilder.group({lastName:["",i.kI.required],firstName:["",i.kI.required],address:["",i.kI.required],postalCode:["",i.kI.required],city:["",i.kI.required]})}ngOnInit(){const n=Number(this.route.snapshot.params.id);this.memberService.isMemberExists(n).subscribe(r=>{r?this.memberService.getMemberById(n).subscribe(m=>{this.member=m,this.member&&this.memberForm.patchValue(this.member)}):this.router.navigate(["/management/members"])})}onEditMember(){this.memberForm.valid&&this.member&&(this.updateMember={...this.member,...this.memberForm.value},this.memberService.updateMember(this.updateMember).subscribe(()=>{this.router.navigate(["/management/members"])}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x),e.Y36(u.F0),e.Y36(u.gz),e.Y36(i.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-member-edit"]],decls:44,vars:9,consts:[[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[1,"b-t-1"],[1,"m-t-16",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12","col-md-8"],[1,"col-md-6","m-b-6"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","lastName","placeholder","Nom","name","lastName","required",""],[4,"ngIf"],["matInput","","formControlName","firstName","placeholder","Pr\xe9nom","name","firstName","required",""],["matInput","","formControlName","address","placeholder","Adresse","name","address","required",""],["matInput","","formControlName","postalCode","placeholder","Code Postal","name","postalCode","required",""],["matInput","","formControlName","city","placeholder","Ville","name","city","required",""],[1,"m-y-15"],["mat-raised-button","","color","primary","type","submit",1,"m-r-6",3,"disabled"],["mat-raised-button","","color","warn",3,"routerLink"]],template:function(n,r){if(1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3,"Modifier le membre"),e.qZA()(),e.TgZ(4,"mat-card-content",2)(5,"form",3),e.NdJ("ngSubmit",function(){return r.onEditMember()}),e.TgZ(6,"div",4)(7,"div",5)(8,"div",4)(9,"div",6)(10,"mat-label",7),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"mat-form-field",8),e._UZ(13,"input",9),e.YNc(14,lt,4,0,"mat-error",10),e.qZA()(),e.TgZ(15,"div",6)(16,"mat-label",7),e._uU(17,"Pr\xe9nom"),e.qZA(),e.TgZ(18,"mat-form-field",8),e._UZ(19,"input",11),e.YNc(20,dt,4,0,"mat-error",10),e.qZA()(),e.TgZ(21,"div",6)(22,"mat-label",7),e._uU(23,"Adresse"),e.qZA(),e.TgZ(24,"mat-form-field",8),e._UZ(25,"input",12),e.YNc(26,pt,4,0,"mat-error",10),e.qZA()(),e.TgZ(27,"div",6)(28,"mat-label",7),e._uU(29,"Code Postal"),e.qZA(),e.TgZ(30,"mat-form-field",8),e._UZ(31,"input",13),e.YNc(32,_t,4,0,"mat-error",10),e.qZA()(),e.TgZ(33,"div",6)(34,"mat-label",7),e._uU(35,"Ville"),e.qZA(),e.TgZ(36,"mat-form-field",8),e._UZ(37,"input",14),e.YNc(38,gt,4,0,"mat-error",10),e.qZA()()(),e.TgZ(39,"div",15)(40,"button",16),e._uU(41," Modifier "),e.qZA(),e.TgZ(42,"button",17),e._uU(43," Annuler "),e.qZA()()()()()()()),2&n){let m,l,g,b,h;e.xp6(5),e.Q6J("formGroup",r.memberForm),e.xp6(9),e.Q6J("ngIf",null==(m=r.memberForm.get("lastName"))?null:m.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(l=r.memberForm.get("firstName"))?null:l.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(g=r.memberForm.get("address"))?null:g.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(b=r.memberForm.get("postalCode"))?null:b.hasError("required")),e.xp6(6),e.Q6J("ngIf",null==(h=r.memberForm.get("city"))?null:h.hasError("required")),e.xp6(2),e.Q6J("disabled",!r.memberForm.valid),e.xp6(2),e.Q6J("routerLink",e.DdM(8,ft))}},dependencies:[d.O5,u.rH,p.KE,p.hX,p.TO,y.Nt,c.a8,c.dn,c.dk,c.n5,_.lW,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u]}),t})();var A=s(5938);function ht(t,o){if(1&t&&(e.TgZ(0,"mat-option",8),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.memberId),e.xp6(1),e.AsE("",n.firstName," ",n.lastName,"")}}let Zt=(()=>{class t{constructor(n,r,m,l){this.memberService=n,this.borrowService=r,this._snackBar=m,this.data=l,this.members=[]}ngOnInit(){this.loadMemberList()}loadMemberList(){this.memberService.getAllMembers().subscribe({next:n=>{this.members=n},error:n=>console.error(n)})}onBorrowDocument(){this.borrowService.borrowDocument(this.data.documentId,this.selectedMemberId).subscribe({next:()=>{this.data.borrowedDocument.emit(),this._snackBar.open("L'emprunt a \xe9t\xe9 enregistr\xe9","Fermer",{duration:3e3})},error:n=>console.error(n)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(x),e.Y36(w),e.Y36(q.ux),e.Y36(A.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-borrow-dialog"]],decls:13,vars:3,consts:[["mat-dialog-title","",1,"text-center","m-b-5"],["mat-dialog-content","",1,"text-center"],["appearance","outline",1,"theme-select"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","",3,"disabled","click"],[3,"value"]],template:function(n,r){1&n&&(e.TgZ(0,"h1",0),e._uU(1,"S\xe9lectionner un membre"),e.qZA(),e.TgZ(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),e._uU(5,"Membre"),e.qZA(),e.TgZ(6,"mat-select",3),e.NdJ("ngModelChange",function(l){return r.selectedMemberId=l}),e.YNc(7,ht,2,3,"mat-option",4),e.qZA()()(),e.TgZ(8,"div",5)(9,"button",6),e._uU(10,"Annuler"),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return r.onBorrowDocument()}),e._uU(12," Confirmer "),e.qZA()()),2&n&&(e.xp6(6),e.Q6J("ngModel",r.selectedMemberId),e.xp6(1),e.Q6J("ngForOf",r.members),e.xp6(4),e.Q6J("disabled",!r.selectedMemberId))},dependencies:[d.sg,N.ey,p.KE,p.hX,M.gD,_.lW,A.ZT,A.uh,A.xY,A.H8,i.JJ,i.On]}),t})(),Tt=(()=>{class t{constructor(n){this.dialog=n,this.borrowedDocument=new e.vpe}openBorrowDialog(){this.dialog.open(Zt,{width:"400px",data:{documentId:this.documentId,borrowedDocument:this.borrowedDocument}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A.uw))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-borrow-document-button"]],inputs:{documentId:"documentId"},outputs:{borrowedDocument:"borrowedDocument"},decls:2,vars:0,consts:[["mat-raised-button","","color","primary","matTooltip","Enregistrer l'emprunt",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.openBorrowDialog()}),e._uU(1," Emprunter\n"),e.qZA())},dependencies:[_.lW,Z.gM]}),t})(),Q=(()=>{class t{constructor(n,r){this.borrowService=n,this._snackBar=r,this.returnedDocument=new e.vpe}onReturnDocument(n){this.borrowService.returnDocument(n).subscribe({next:()=>{this.returnedDocument.emit(),this._snackBar.open("Le retour a \xe9t\xe9 enregistr\xe9","Fermer",{duration:3e3})},error:r=>console.error(r)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w),e.Y36(q.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-return-document-button"]],inputs:{documentId:"documentId"},outputs:{returnedDocument:"returnedDocument"},decls:2,vars:0,consts:[["mat-raised-button","","color","accent","matTooltip","Enregistrer le retour",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.onReturnDocument(r.documentId)}),e._uU(1," Retourner\n"),e.qZA())},dependencies:[_.lW,Z.gM]}),t})();var F=s(811);const wt=function(){return["/management/borrows"]},Ct=function(){return["/management/borrows/all"]},Dt=function(){return["/management/borrows/current"]},xt=function(){return["/management/borrows/returned"]};let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-borrows-toggle-button"]],inputs:{selectedPage:"selectedPage"},decls:9,vars:9,consts:[[1,"m-b-20","flex-column","flex-sm-row",3,"ngModel","ngModelChange"],["value","page1",3,"routerLink"],["value","page2",3,"routerLink"],["value","page3",3,"routerLink"],["value","page4",3,"routerLink"]],template:function(n,r){1&n&&(e.TgZ(0,"mat-button-toggle-group",0),e.NdJ("ngModelChange",function(l){return r.selectedPage=l}),e.TgZ(1,"mat-button-toggle",1),e._uU(2,"Effectuer des emprunts et des retours"),e.qZA(),e.TgZ(3,"mat-button-toggle",2),e._uU(4,"Liste des emprunts"),e.qZA(),e.TgZ(5,"mat-button-toggle",3),e._uU(6,"Emprunts en cours"),e.qZA(),e.TgZ(7,"mat-button-toggle",4),e._uU(8,"Emprunts retourn\xe9s"),e.qZA()()),2&n&&(e.Q6J("ngModel",r.selectedPage),e.xp6(1),e.Q6J("routerLink",e.DdM(5,wt)),e.xp6(2),e.Q6J("routerLink",e.DdM(6,Ct)),e.xp6(2),e.Q6J("routerLink",e.DdM(7,Dt)),e.xp6(2),e.Q6J("routerLink",e.DdM(8,xt)))},dependencies:[u.rH,F.A9,F.Yi,i.JJ,i.On]}),t})();function At(t,o){1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"p",5),e._uU(3,"Aucun document trouv\xe9."),e.qZA()(),e.BQk())}function qt(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," # "),e.qZA())}function yt(t,o){if(1&t&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&t){const n=o.index;e.xp6(1),e.hij(" ",n+1," ")}}function Ut(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Document "),e.qZA())}const Bt=function(t){return["/management/documents",t]};function vt(t,o){if(1&t&&(e.TgZ(0,"td",21)(1,"a",22),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,Bt,n.documentId)),e.xp6(1),e.lnq("",n.title," - ",n.author," ( ",n.releaseDate,")")}}function It(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Type de document "),e.qZA())}function Nt(t,o){if(1&t&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&t){const n=o.$implicit,r=e.oxw(2);e.xp6(1),e.hij(" ",r.documentTypeTranslations[n.documentType]," ")}}function Mt(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Statut "),e.qZA())}function Qt(t,o){1&t&&(e.TgZ(0,"span",24),e._uU(1," Disponible "),e.qZA())}function Yt(t,o){1&t&&(e.TgZ(0,"span",25),e._uU(1," Emprunt\xe9 "),e.qZA())}function St(t,o){if(1&t&&(e.TgZ(0,"td",20),e.YNc(1,Qt,2,0,"ng-template",23),e.YNc(2,Yt,2,0,"ng-template",23),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("ngIf",n.available),e.xp6(1),e.Q6J("ngIf",!n.available)}}function Jt(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Action "),e.qZA())}function kt(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-borrow-document-button",26),e.NdJ("borrowedDocument",function(){e.CHM(n);const m=e.oxw(3);return e.KtG(m.loadDocumentList())}),e.qZA()}if(2&t){const n=e.oxw().$implicit;e.Q6J("documentId",n.documentId)}}function Lt(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-return-document-button",27),e.NdJ("returnedDocument",function(){e.CHM(n);const m=e.oxw(3);return e.KtG(m.loadDocumentList())}),e.qZA()}if(2&t){const n=e.oxw().$implicit;e.Q6J("documentId",n.documentId)}}function Et(t,o){if(1&t&&(e.TgZ(0,"td",20)(1,"div"),e.YNc(2,kt,1,1,"ng-template",23),e.YNc(3,Lt,1,1,"ng-template",23),e.qZA()()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("ngIf",n.available),e.xp6(1),e.Q6J("ngIf",!n.available)}}function Ft(t,o){1&t&&e._UZ(0,"tr",28)}function Rt(t,o){1&t&&e._UZ(0,"tr",29)}const Ot=function(){return[20,50,100]};function $t(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"div",6)(3,"table",7),e.ynx(4,8),e.YNc(5,qt,2,0,"th",9),e.YNc(6,yt,2,1,"td",10),e.BQk(),e.ynx(7,11),e.YNc(8,Ut,2,0,"th",9),e.YNc(9,vt,3,6,"td",12),e.BQk(),e.ynx(10,13),e.YNc(11,It,2,0,"th",9),e.YNc(12,Nt,2,1,"td",10),e.BQk(),e.ynx(13,14),e.YNc(14,Mt,2,0,"th",9),e.YNc(15,St,3,2,"td",10),e.BQk(),e.ynx(16,15),e.YNc(17,Jt,2,0,"th",9),e.YNc(18,Et,4,2,"td",10),e.BQk(),e.YNc(19,Ft,1,0,"tr",16),e.YNc(20,Rt,1,0,"tr",17),e.qZA(),e._UZ(21,"mat-paginator",18),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Ot))}}let Ht=(()=>{class t{constructor(n){this.documentService=n,this.documents=[],this.dataSource=new a.by,this.displayedColumns=["position","document","documentType","status","action"]}ngOnInit(){this.loadDocumentList()}loadDocumentList(){this.documentService.getAllDocuments().subscribe({next:n=>{this.documents=n,this.dataSource.data=this.documents,this.dataSource.paginator=this.paginator,this.documentTypeTranslations=this.documentService.documentTypeTranslations},error:n=>console.error(n)})}ngAfterViewInit(){this.loadDocumentList()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(C))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-borrows"]],viewQuery:function(n,r){if(1&n&&e.Gf(f.NW,5),2&n){let m;e.iGM(m=e.CRH())&&(r.paginator=m.first)}},decls:7,vars:2,consts:[["selectedPage","page1"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[4,"ngIf"],[1,"b-t-1"],[1,"text-center"],[1,"table-responsive","m-t-16"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","document"],["mat-cell","",4,"matCellDef"],["matColumnDef","documentType"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","S\xe9lectionner la page des documents",3,"pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-cell",""],[1,"mat-body-1",3,"routerLink"],[3,"ngIf"],[1,"bg-light-accent","text-success","rounded","f-w-600","p-6","p-y-4","f-s-12"],[1,"bg-light-primary","text-error","rounded","f-w-600","p-6","p-y-4","f-s-12"],[3,"documentId","borrowedDocument"],[3,"documentId","returnedDocument"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(e._UZ(0,"app-borrows-toggle-button",0),e.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4,"Effectuer des emprunts et des retours"),e.qZA()(),e.YNc(5,At,4,0,"ng-container",3),e.YNc(6,$t,22,5,"ng-container",3),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",0===r.dataSource.data.length),e.xp6(1),e.Q6J("ngIf",r.dataSource.data.length>0))},dependencies:[d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,f.NW,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,Tt,Q,U]}),t})();function Wt(t,o){1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"p",5),e._uU(3,"Aucun emprunt en cours trouv\xe9."),e.qZA()(),e.BQk())}function Gt(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," # "),e.qZA())}function Vt(t,o){if(1&t&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&t){const n=o.index;e.xp6(1),e.hij(" ",n+1," ")}}function jt(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Document "),e.qZA())}const zt=function(t){return["/management/documents",t]};function Xt(t,o){if(1&t&&(e.TgZ(0,"td",21)(1,"a",22),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,zt,n.document.documentId)),e.xp6(1),e.lnq("",n.document.title," - ",n.document.author," ( ",n.document.releaseDate,")")}}function Kt(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Membre "),e.qZA())}const Pt=function(t){return["/management/members",t]};function en(t,o){if(1&t&&(e.TgZ(0,"td",21)(1,"a",22),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,Pt,n.member.memberId)),e.xp6(1),e.AsE("",n.member.firstName," ",n.member.lastName,"")}}function tn(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Date d'emprunt "),e.qZA())}function nn(t,o){if(1&t&&(e.TgZ(0,"td",20),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.loanDate,"dd/MM/yyyy")," ")}}function on(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Action "),e.qZA())}function rn(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-return-document-button",24),e.NdJ("returnedDocument",function(){e.CHM(n);const m=e.oxw(3);return e.KtG(m.loadBorrowedList())}),e.qZA()}if(2&t){const n=e.oxw().$implicit;e.Q6J("documentId",n.document.documentId)}}function mn(t,o){if(1&t&&(e.TgZ(0,"td",20)(1,"div"),e.YNc(2,rn,1,1,"ng-template",23),e.qZA()()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("ngIf",null===n.returnDate)}}function an(t,o){1&t&&e._UZ(0,"tr",25)}function cn(t,o){1&t&&e._UZ(0,"tr",26)}const un=function(){return[20,50,100]};function sn(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"div",6)(3,"table",7),e.ynx(4,8),e.YNc(5,Gt,2,0,"th",9),e.YNc(6,Vt,2,1,"td",10),e.BQk(),e.ynx(7,11),e.YNc(8,jt,2,0,"th",9),e.YNc(9,Xt,3,6,"td",12),e.BQk(),e.ynx(10,13),e.YNc(11,Kt,2,0,"th",9),e.YNc(12,en,3,5,"td",12),e.BQk(),e.ynx(13,14),e.YNc(14,tn,2,0,"th",9),e.YNc(15,nn,3,4,"td",10),e.BQk(),e.ynx(16,15),e.YNc(17,on,2,0,"th",9),e.YNc(18,mn,3,1,"td",10),e.BQk(),e.YNc(19,an,1,0,"tr",16),e.YNc(20,cn,1,0,"tr",17),e.qZA(),e._UZ(21,"mat-paginator",18),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,un))}}let ln=(()=>{class t{constructor(n){this.borrowService=n,this.borrows=[],this.dataSource=new a.by,this.displayedColumns=["position","document","member","loanDate","action"]}ngOnInit(){this.loadBorrowedList()}loadBorrowedList(){this.borrowService.getBorrowedDocuments().subscribe({next:n=>{this.borrows=n,this.dataSource.data=this.borrows,this.dataSource.paginator=this.paginator},error:n=>console.error(n)})}ngAfterViewInit(){this.loadBorrowedList()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-current-borrows"]],viewQuery:function(n,r){if(1&n&&e.Gf(f.NW,5),2&n){let m;e.iGM(m=e.CRH())&&(r.paginator=m.first)}},decls:7,vars:2,consts:[["selectedPage","page3"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[4,"ngIf"],[1,"b-t-1"],[1,"text-center"],[1,"table-responsive","m-t-16"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","document"],["mat-cell","",4,"matCellDef"],["matColumnDef","member"],["matColumnDef","loanDate"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","S\xe9lectionner la page des emprunts",3,"pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-cell",""],[1,"mat-body-1",3,"routerLink"],[3,"ngIf"],[3,"documentId","returnedDocument"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(e._UZ(0,"app-borrows-toggle-button",0),e.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4,"Emprunts en cours"),e.qZA()(),e.YNc(5,Wt,4,0,"ng-container",3),e.YNc(6,sn,22,5,"ng-container",3),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",0===r.dataSource.data.length),e.xp6(1),e.Q6J("ngIf",r.dataSource.data.length>0))},dependencies:[d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,f.NW,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,Q,U,d.uU]}),t})();function dn(t,o){1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"p",5),e._uU(3,"Aucun emprunt en cours trouv\xe9."),e.qZA()(),e.BQk())}function pn(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," # "),e.qZA())}function _n(t,o){if(1&t&&(e.TgZ(0,"td",20),e._uU(1),e.qZA()),2&t){const n=o.index;e.xp6(1),e.hij(" ",n+1," ")}}function gn(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Document "),e.qZA())}const fn=function(t){return["/management/documents",t]};function bn(t,o){if(1&t&&(e.TgZ(0,"td",21)(1,"a",22),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,fn,n.document.documentId)),e.xp6(1),e.lnq("",n.document.title," - ",n.document.author," ( ",n.document.releaseDate,")")}}function hn(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Membre "),e.qZA())}const Zn=function(t){return["/management/members",t]};function Tn(t,o){if(1&t&&(e.TgZ(0,"td",21)(1,"a",22),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,Zn,n.member.memberId)),e.xp6(1),e.AsE("",n.member.firstName," ",n.member.lastName,"")}}function wn(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Date d'emprunt "),e.qZA())}function Cn(t,o){if(1&t&&(e.TgZ(0,"td",20),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.loanDate,"dd/MM/yyyy")," ")}}function Dn(t,o){1&t&&(e.TgZ(0,"th",19),e._uU(1," Date de retour "),e.qZA())}function xn(t,o){1&t&&e._uU(0," Pas encore rendu ")}function An(t,o){if(1&t&&(e._uU(0),e.ALo(1,"date")),2&t){const n=e.oxw().$implicit;e.hij(" ",e.xi3(1,1,n.returnDate,"dd/MM/yyyy")," ")}}function qn(t,o){if(1&t&&(e.TgZ(0,"td",20),e.YNc(1,xn,1,0,"ng-template",23),e.YNc(2,An,2,4,"ng-template",23),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("ngIf",null===n.returnDate),e.xp6(1),e.Q6J("ngIf",null!==n.returnDate)}}function yn(t,o){1&t&&e._UZ(0,"tr",24)}function Un(t,o){1&t&&e._UZ(0,"tr",25)}const Bn=function(){return[20,50,100]};function vn(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"div",6)(3,"table",7),e.ynx(4,8),e.YNc(5,pn,2,0,"th",9),e.YNc(6,_n,2,1,"td",10),e.BQk(),e.ynx(7,11),e.YNc(8,gn,2,0,"th",9),e.YNc(9,bn,3,6,"td",12),e.BQk(),e.ynx(10,13),e.YNc(11,hn,2,0,"th",9),e.YNc(12,Tn,3,5,"td",12),e.BQk(),e.ynx(13,14),e.YNc(14,wn,2,0,"th",9),e.YNc(15,Cn,3,4,"td",10),e.BQk(),e.ynx(16,15),e.YNc(17,Dn,2,0,"th",9),e.YNc(18,qn,3,2,"td",10),e.BQk(),e.YNc(19,yn,1,0,"tr",16),e.YNc(20,Un,1,0,"tr",17),e.qZA(),e._UZ(21,"mat-paginator",18),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Bn))}}let In=(()=>{class t{constructor(n){this.borrowService=n,this.borrows=[],this.dataSource=new a.by,this.displayedColumns=["position","document","member","loanDate","returnDate"]}ngOnInit(){this.loadBorrowedList()}loadBorrowedList(){this.borrowService.getReturnedBorrows().subscribe({next:n=>{this.borrows=n,this.dataSource.data=this.borrows,this.dataSource.paginator=this.paginator},error:n=>console.error(n)})}ngAfterViewInit(){this.loadBorrowedList()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-returned-borrows"]],viewQuery:function(n,r){if(1&n&&e.Gf(f.NW,5),2&n){let m;e.iGM(m=e.CRH())&&(r.paginator=m.first)}},decls:7,vars:2,consts:[["selectedPage","page4"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[4,"ngIf"],[1,"b-t-1"],[1,"text-center"],[1,"table-responsive","m-t-16"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","document"],["mat-cell","",4,"matCellDef"],["matColumnDef","member"],["matColumnDef","loanDate"],["matColumnDef","returnDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","S\xe9lectionner la page des emprunts",3,"pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-cell",""],[1,"mat-body-1",3,"routerLink"],[3,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(e._UZ(0,"app-borrows-toggle-button",0),e.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4,"Emprunts retourn\xe9s"),e.qZA()(),e.YNc(5,dn,4,0,"ng-container",3),e.YNc(6,vn,22,5,"ng-container",3),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",0===r.dataSource.data.length),e.xp6(1),e.Q6J("ngIf",r.dataSource.data.length>0))},dependencies:[d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,f.NW,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,U,d.uU]}),t})();function Nn(t,o){1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"p",5),e._uU(3,"Aucun emprunt trouv\xe9."),e.qZA()(),e.BQk())}function Mn(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," # "),e.qZA())}function Qn(t,o){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&t){const n=o.index;e.xp6(1),e.hij(" ",n+1," ")}}function Yn(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Document "),e.qZA())}const Sn=function(t){return["/management/documents",t]};function Jn(t,o){if(1&t&&(e.TgZ(0,"td",22)(1,"a",23),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(4,Sn,n.document.documentId)),e.xp6(1),e.lnq("",n.document.title," - ",n.document.author," ( ",n.document.releaseDate,")")}}function kn(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Membre "),e.qZA())}const Ln=function(t){return["/management/members",t]};function En(t,o){if(1&t&&(e.TgZ(0,"td",22)(1,"a",23),e._uU(2),e.qZA()()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,Ln,n.member.memberId)),e.xp6(1),e.AsE("",n.member.firstName," ",n.member.lastName,"")}}function Fn(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Date d'emprunt "),e.qZA())}function Rn(t,o){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.loanDate,"dd/MM/yyyy")," ")}}function On(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Date de retour "),e.qZA())}function $n(t,o){1&t&&e._uU(0," Pas encore rendu ")}function Hn(t,o){if(1&t&&(e._uU(0),e.ALo(1,"date")),2&t){const n=e.oxw().$implicit;e.hij(" ",e.xi3(1,1,n.returnDate,"dd/MM/yyyy")," ")}}function Wn(t,o){if(1&t&&(e.TgZ(0,"td",21),e.YNc(1,$n,1,0,"ng-template",24),e.YNc(2,Hn,2,4,"ng-template",24),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("ngIf",null===n.returnDate),e.xp6(1),e.Q6J("ngIf",null!==n.returnDate)}}function Gn(t,o){1&t&&(e.TgZ(0,"th",20),e._uU(1," Action "),e.qZA())}function Vn(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"app-return-document-button",25),e.NdJ("returnedDocument",function(){e.CHM(n);const m=e.oxw(3);return e.KtG(m.loadBorrowList())}),e.qZA()}if(2&t){const n=e.oxw().$implicit;e.Q6J("documentId",n.document.documentId)}}function jn(t,o){if(1&t&&(e.TgZ(0,"td",21)(1,"div"),e.YNc(2,Vn,1,1,"ng-template",24),e.qZA()()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("ngIf",null===n.returnDate)}}function zn(t,o){1&t&&e._UZ(0,"tr",26)}function Xn(t,o){1&t&&e._UZ(0,"tr",27)}const Kn=function(){return[20,50,100]};function Pn(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"mat-card-content",4)(2,"div",6)(3,"table",7),e.ynx(4,8),e.YNc(5,Mn,2,0,"th",9),e.YNc(6,Qn,2,1,"td",10),e.BQk(),e.ynx(7,11),e.YNc(8,Yn,2,0,"th",9),e.YNc(9,Jn,3,6,"td",12),e.BQk(),e.ynx(10,13),e.YNc(11,kn,2,0,"th",9),e.YNc(12,En,3,5,"td",12),e.BQk(),e.ynx(13,14),e.YNc(14,Fn,2,0,"th",9),e.YNc(15,Rn,3,4,"td",10),e.BQk(),e.ynx(16,15),e.YNc(17,On,2,0,"th",9),e.YNc(18,Wn,3,2,"td",10),e.BQk(),e.ynx(19,16),e.YNc(20,Gn,2,0,"th",9),e.YNc(21,jn,3,1,"td",10),e.BQk(),e.YNc(22,zn,1,0,"tr",17),e.YNc(23,Xn,1,0,"tr",18),e.qZA(),e._UZ(24,"mat-paginator",19),e.qZA()(),e.BQk()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Kn))}}const eo=[{path:"",children:[{path:"documents",component:le},{path:"documents/add",component:qe},{path:"documents/:id",component:Ze},{path:"documents/edit/:id",component:Me},{path:"members",component:Xe},{path:"members/add",component:st},{path:"members/:id",component:ot},{path:"members/edit/:id",component:bt},{path:"borrows",component:Ht},{path:"borrows/all",component:(()=>{class t{constructor(n){this.borrowService=n,this.borrows=[],this.dataSource=new a.by,this.displayedColumns=["position","document","member","loanDate","returnDate","action"]}ngOnInit(){this.loadBorrowList()}loadBorrowList(){this.borrowService.getAllBorrows().subscribe({next:n=>{this.borrows=n,this.dataSource.data=this.borrows,this.dataSource.paginator=this.paginator},error:n=>console.error(n)})}ngAfterViewInit(){this.loadBorrowList()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-all-borrows"]],viewQuery:function(n,r){if(1&n&&e.Gf(f.NW,5),2&n){let m;e.iGM(m=e.CRH())&&(r.paginator=m.first)}},decls:7,vars:2,consts:[["selectedPage","page2"],[1,"cardWithShadow","theme-card"],[1,"m-b-0"],[4,"ngIf"],[1,"b-t-1"],[1,"text-center"],[1,"table-responsive","m-t-16"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","position"],["mat-header-cell","","class","f-w-600 mat-subtitle-1 f-s-14",4,"matHeaderCellDef"],["mat-cell","","class","mat-body-1",4,"matCellDef"],["matColumnDef","document"],["mat-cell","",4,"matCellDef"],["matColumnDef","member"],["matColumnDef","loanDate"],["matColumnDef","returnDate"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","S\xe9lectionner la page des emprunts",3,"pageSizeOptions"],["mat-header-cell","",1,"f-w-600","mat-subtitle-1","f-s-14"],["mat-cell","",1,"mat-body-1"],["mat-cell",""],[1,"mat-body-1",3,"routerLink"],[3,"ngIf"],[3,"documentId","returnedDocument"],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(e._UZ(0,"app-borrows-toggle-button",0),e.TgZ(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4,"Liste des emprunts"),e.qZA()(),e.YNc(5,Nn,4,0,"ng-container",3),e.YNc(6,Pn,25,5,"ng-container",3),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",0===r.dataSource.data.length),e.xp6(1),e.Q6J("ngIf",r.dataSource.data.length>0))},dependencies:[d.O5,u.rH,c.a8,c.dn,c.dk,c.n5,f.NW,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,Q,U,d.uU]}),t})()},{path:"borrows/current",component:ln},{path:"borrows/returned",component:In}]}];let to=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,u.Bz.forChild(eo),R.q,i.u5,i.UX,O.e.pick($)]}),t})()}}]);